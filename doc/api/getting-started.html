<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>Getting Started with the Copilot SDK for Clojure</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name"></span> <span class="project-version"></span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="API.html"><div class="inner"><span>API Reference</span></div></a></li><li class="depth-1 "><a href="byok.html"><div class="inner"><span>BYOK (Bring Your Own Key)</span></div></a></li><li class="depth-1 "><a href="debugging.html"><div class="inner"><span>MCP Server Debugging Guide</span></div></a></li><li class="depth-1  current"><a href="getting-started.html"><div class="inner"><span>Getting Started with the Copilot SDK for Clojure</span></div></a></li><li class="depth-1 "><a href="index.html"><div class="inner"><span>Authentication</span></div></a></li><li class="depth-1 "><a href="index.html"><div class="inner"><span>Documentation</span></div></a></li><li class="depth-1 "><a href="overview.html"><div class="inner"><span>Using MCP Servers with the Copilot SDK for Clojure</span></div></a></li><li class="depth-1 "><a href="style.html"><div class="inner"><span>Documentation Style Guide</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>github</span></div></div></li><li class="depth-2"><a href="github.copilot-sdk.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>copilot-sdk</span></div></a></li><li class="depth-3 branch"><a href="github.copilot-sdk.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-3 branch"><a href="github.copilot-sdk.helpers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>helpers</span></div></a></li><li class="depth-3 branch"><a href="github.copilot-sdk.instrument.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>instrument</span></div></a></li><li class="depth-3 branch"><a href="github.copilot-sdk.logging.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>logging</span></div></a></li><li class="depth-3 branch"><a href="github.copilot-sdk.process.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>process</span></div></a></li><li class="depth-3 branch"><a href="github.copilot-sdk.protocol.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocol</span></div></a></li><li class="depth-3 branch"><a href="github.copilot-sdk.session.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>session</span></div></a></li><li class="depth-3 branch"><a href="github.copilot-sdk.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-3 branch"><a href="github.copilot-sdk.tools.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tools</span></div></a></li><li class="depth-3"><a href="github.copilot-sdk.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#getting-started-with-the-copilot-sdk-for-clojure" id="getting-started-with-the-copilot-sdk-for-clojure"></a>Getting Started with the Copilot SDK for Clojure</h1>
<p>In this tutorial, you‚Äôll use the Copilot SDK for Clojure to build a command-line assistant. You‚Äôll start with the basics, add streaming responses, then add custom tools ‚Äî giving Copilot the ability to call your code.</p>
<p><strong>What you‚Äôll build:</strong></p>
<pre><code>Q: What's the weather like in Seattle?
ü§ñ: Let me check the weather for Seattle...
    Currently 62¬∞F and cloudy with a chance of rain.

Q: How about Tokyo?
ü§ñ: In Tokyo it's 75¬∞F and sunny. Great day to be outside!
</code></pre>
<h2><a href="#prerequisites" id="prerequisites"></a>Prerequisites</h2>
<p>Before you begin, make sure you have:</p>
<ul>
<li><strong>GitHub Copilot CLI</strong> installed and authenticated (<a href="https://docs.github.com/en/copilot/how-tos/set-up/install-copilot-cli">Installation guide</a>)</li>
<li><strong>Clojure</strong> 1.11+ with the <code>clojure</code> CLI tool</li>
<li><strong>Java</strong> 11+</li>
</ul>
<p>Verify the CLI is working:</p>
<pre><code class="language-bash">copilot --version
</code></pre>
<h2><a href="#step-1-add-the-sdk-dependency" id="step-1-add-the-sdk-dependency"></a>Step 1: Add the SDK Dependency</h2>
<p>Add to your <code>deps.edn</code>:</p>
<pre><code class="language-clojure">{:deps {io.github.copilot-community-sdk/copilot-sdk-clojure {:mvn/version "LATEST"}}}
</code></pre>
<p>Or use as a Git dependency:</p>
<pre><code class="language-clojure">{:deps {io.github.copilot-community-sdk/copilot-sdk-clojure
        {:git/url "https://github.com/copilot-community-sdk/copilot-sdk-clojure"
         :git/sha "LATEST_SHA"}}}
</code></pre>
<h2><a href="#step-2-send-your-first-message" id="step-2-send-your-first-message"></a>Step 2: Send Your First Message</h2>
<p>The simplest way to use the SDK ‚Äî about 3 lines of code:</p>
<pre><code class="language-clojure">(require '[github.copilot-sdk.helpers :as h])

(println (h/query "What is 2 + 2?"))
;; =&gt; "4"
</code></pre>
<p>That‚Äôs it! The helpers API manages the client lifecycle automatically.</p>
<p>For more control, use the explicit client/session API:</p>
<pre><code class="language-clojure">(require '[github.copilot-sdk :as copilot])

(copilot/with-client-session [session {:model "gpt-5.2"}]
  (let [response (copilot/send-and-wait! session {:prompt "What is 2 + 2?"})]
    (println (get-in response [:data :content]))))
</code></pre>
<p><strong>You should see:</strong></p>
<pre><code>4
</code></pre>
<p>Congratulations! You just built your first Copilot-powered app in Clojure.</p>
<h2><a href="#step-3-add-streaming-responses" id="step-3-add-streaming-responses"></a>Step 3: Add Streaming Responses</h2>
<p>Right now, you wait for the complete response before seeing anything. Let‚Äôs make it interactive by streaming the response as it‚Äôs generated.</p>
<h3><a href="#using-lazy-sequences" id="using-lazy-sequences"></a>Using Lazy Sequences</h3>
<pre><code class="language-clojure">(require '[github.copilot-sdk.helpers :as h])

(defmulti handle-event :type)
(defmethod handle-event :default [_] nil)
(defmethod handle-event :copilot/assistant.message_delta [{{:keys [delta-content]} :data}]
  (print delta-content)
  (flush))
(defmethod handle-event :copilot/session.idle [_]
  (println))

(run! handle-event (h/query-seq! "Tell me a short joke" :session {:streaming? true}))
</code></pre>
<h3><a href="#using-coreasync-channels" id="using-coreasync-channels"></a>Using core.async Channels</h3>
<pre><code class="language-clojure">(require '[clojure.core.async :refer [chan tap go-loop &lt;!]])
(require '[github.copilot-sdk :as copilot])

(copilot/with-client-session [session {:model "gpt-5.2" :streaming? true}]
  (let [ch (chan 256)
        done (promise)]
    (tap (copilot/events session) ch)
    (go-loop []
      (when-let [event (&lt;! ch)]
        (case (:type event)
          :copilot/assistant.message_delta
          (do (print (get-in event [:data :delta-content]))
              (flush))

          :copilot/session.idle
          (do (println)
              (deliver done true))
          nil)
        (recur)))
    (copilot/send! session {:prompt "Tell me a short joke"})
    @done))
</code></pre>
<p>Run the code and you‚Äôll see the response appear word by word.</p>
<h3><a href="#event-subscription-methods" id="event-subscription-methods"></a>Event Subscription Methods</h3>
<p>The SDK uses core.async <code>mult/tap</code> for event subscription:</p>
<table>
<thead>
<tr><th> Function </th><th> Description </th></tr>
</thead>
<tbody>
<tr><td> <code>(copilot/events session)</code> </td><td> Get the core.async mult for all events </td></tr>
<tr><td> <code>(copilot/subscribe-events session)</code> </td><td> Get a tapped channel (convenience) </td></tr>
<tr><td> <code>(copilot/unsubscribe-events session ch)</code> </td><td> Untap a channel </td></tr>
<tr><td> <code>(copilot/events-&gt;chan session opts)</code> </td><td> Advanced: custom buffer, transducer </td></tr>
</tbody>
</table>
<h2><a href="#step-4-add-a-custom-tool" id="step-4-add-a-custom-tool"></a>Step 4: Add a Custom Tool</h2>
<p>Now for the powerful part. Let‚Äôs give Copilot the ability to call your code by defining a custom tool:</p>
<pre><code class="language-clojure">(require '[github.copilot-sdk :as copilot])
(require '[github.copilot-sdk.helpers :as h])

;; Define a tool that Copilot can call
(def get-weather
  (copilot/define-tool "get_weather"
    {:description "Get the current weather for a city"
     :parameters {:type "object"
                  :properties {:city {:type "string"
                                      :description "The city name"}}
                  :required ["city"]}
     :handler (fn [{:keys [city]} _invocation]
                ;; In a real app, you'd call a weather API here
                (let [conditions ["sunny" "cloudy" "rainy" "partly cloudy"]
                      temp (+ 50 (rand-int 30))
                      condition (rand-nth conditions)]
                  (copilot/result-success
                   (str city ": " temp "¬∞F and " condition))))}))

(copilot/with-client-session [session {:model "gpt-5.2"
                                       :tools [get-weather]}]
  (println (h/query "What's the weather like in Seattle and Tokyo?"
                    :session session)))
</code></pre>
<p>Run it and you‚Äôll see Copilot call your tool to get weather data, then respond with the results!</p>
<h2><a href="#step-5-build-an-interactive-assistant" id="step-5-build-an-interactive-assistant"></a>Step 5: Build an Interactive Assistant</h2>
<p>Let‚Äôs put it all together into an interactive assistant:</p>
<pre><code class="language-clojure">(require '[github.copilot-sdk :as copilot])
(require '[github.copilot-sdk.helpers :as h])

(def get-weather
  (copilot/define-tool "get_weather"
    {:description "Get the current weather for a city"
     :parameters {:type "object"
                  :properties {:city {:type "string" :description "The city name"}}
                  :required ["city"]}
     :handler (fn [{:keys [city]} _]
                (let [temp (+ 50 (rand-int 30))
                      condition (rand-nth ["sunny" "cloudy" "rainy"])]
                  (copilot/result-success
                   (str city ": " temp "¬∞F and " condition))))}))

(copilot/with-client-session [session {:model "gpt-5.2"
                                       :streaming? true
                                       :tools [get-weather]}]
  (println "üå§Ô∏è  Weather Assistant (type 'exit' to quit)")
  (println "   Try: 'What's the weather in Paris?'")
  (println)
  (loop []
    (print "You: ")
    (flush)
    (let [input (read-line)]
      (when (and input (not= (.toLowerCase input) "exit"))
        (print "ü§ñ: ")
        (println (h/query input :session session))
        (println)
        (recur)))))
</code></pre>
<h2><a href="#whats-next" id="whats-next"></a>What‚Äôs Next?</h2>
<p>Now that you have the basics, explore these topics:</p>
<ul>
<li><strong><a href="./reference/API.html">API Reference</a></strong> ‚Äî Complete API documentation</li>
<li><strong><a href="./auth/index.html">Authentication</a></strong> ‚Äî All auth methods including BYOK</li>
<li><strong><a href="./mcp/overview.html">MCP Servers</a></strong> ‚Äî Connect to external tools via MCP</li>
<li><strong><a href="../examples/README.html">Examples</a></strong> ‚Äî More working examples</li>
</ul>
<h3><a href="#key-concepts" id="key-concepts"></a>Key Concepts</h3>
<table>
<thead>
<tr><th> Concept </th><th> Description </th></tr>
</thead>
<tbody>
<tr><td> <strong>Client</strong> </td><td> Manages the connection to the Copilot CLI server </td></tr>
<tr><td> <strong>Session</strong> </td><td> A conversation with context, model, and tools </td></tr>
<tr><td> <strong>Tools</strong> </td><td> Functions that Copilot can call in your code </td></tr>
<tr><td> <strong>Events</strong> </td><td> Streaming updates via core.async channels </td></tr>
<tr><td> <strong>Helpers</strong> </td><td> High-level stateless API with automatic lifecycle management </td></tr>
</tbody>
</table>
<h3><a href="#comparison-with-javascript-sdk" id="comparison-with-javascript-sdk"></a>Comparison with JavaScript SDK</h3>
<table>
<thead>
<tr><th> JavaScript </th><th> Clojure </th></tr>
</thead>
<tbody>
<tr><td> <code>new CopilotClient()</code> </td><td> <code>(copilot/client {})</code> or <code>(copilot/with-client ...)</code> </td></tr>
<tr><td> <code>client.createSession({...})</code> </td><td> <code>(copilot/create-session client {...})</code> </td></tr>
<tr><td> <code>session.sendAndWait({prompt})</code> </td><td> <code>(copilot/send-and-wait! session {:prompt ...})</code> </td></tr>
<tr><td> <code>session.on("event", handler)</code> </td><td> <code>(tap (copilot/events session) ch)</code> </td></tr>
<tr><td> <code>defineTool("name", {...})</code> </td><td> <code>(copilot/define-tool "name" {...})</code> </td></tr>
<tr><td> <code>await</code> / Promises </td><td> Blocking calls or <code>core.async</code> go blocks </td></tr>
</tbody>
</table>
</div></div></div></body></html>