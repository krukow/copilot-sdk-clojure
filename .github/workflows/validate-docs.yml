name: Validate Documentation

on:
  pull_request:
    paths:
      - 'doc/**'
      - 'README.md'
      - 'AGENTS.md'
      - 'examples/**/*.md'
      - 'src/**'
      - 'script/validate_docs.clj'

jobs:
  validate-docs:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Install Babashka
        uses: DeLaGuardo/setup-graalvm@master
        with:
          graalvm-version: 'latest'
      - uses: turtlequeue/setup-babashka@v1.7.0
        with:
          babashka-version: '1.12.196'

      - name: Validate documentation
        run: bb validate-docs
